
<div class="card p-0 h-100" id="productCard">
    <img src="{{ asset(product.image) }}" class="card-img-top" id="productImg" alt="{{ product.name }}">
    <div class="card-body">
    <h5 class="card-title">{{ product.name }}</h5> 
    <p class="card-text">Prix {{ product.price | number_format(2, '.', ',') }} €</p>   
    <p class="nutri-score">Nutriscore {{ product | nutriscore }}</p>
    {% if product.promotion is not null %}
      <p class="promotion">Promotion {{ product.promotion.rising }} %</p> 
    {% endif %}
    {% if product.quantity < 10 %}
      <p>Plus que {{ product.quantity }} en stock !</p> 
    {% endif %}    
    {% if product.quantity < 5 %}
        <p>Ce produit est presque épuisé !</p>
    {% endif %}
    {% if product.quantity < 1 %}
        <p>Ce produit est en rupture de stock.</p>
    {% endif %}
    </div>
    <div class="card-footer d-flex"> 
        <a href="{{ path('app_product_details', {'product_id': product.id}) }}" class="btn btn-success">Détails</a> 
       {% if product.quantity > 0 %}
        <a href="{{ path('app_add_to_cart', {'productId': product.id}) }}" class="card-link"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="green" class="bi bi-cart-plus-fill" viewBox="0 0 16 16">
        <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0"/>
        </svg></a>
        {% endif %}
          {% if product in app.user %}
                  <a class="btn-favorite me-2" data-product-id="{{ product.id }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="yellow" class="bi bi-star" viewBox="0 0 16 16">
          <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
        </svg>
        </a>
        {% else %}
        <a class="btn-favorite me-2" data-product-id="{{ product.id }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="black" class="bi bi-star" viewBox="0 0 16 16">
          <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
        </svg>
        </a>
        {% endif %}
    </div>
</div>
